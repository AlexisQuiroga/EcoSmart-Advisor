{% extends "layout.html" %}

{% block title %}Inicio{% endblock %}

{% block content %}
<div class="row align-items-center mb-5">
    <div class="col-lg-6">
        <h1 class="display-4 fw-bold text-success">Asesoramiento Inteligente en Energías Renovables</h1>
        <p class="lead">EcoSmart Advisor te ayuda a elegir el sistema de energía renovable perfecto para tu hogar o negocio con análisis personalizados basados en IA.</p>
        <div class="mt-4">
            <a href="{{ url_for('diagnostico.diagnostico') }}" class="btn btn-success btn-lg me-2">
                <i class="fas fa-solar-panel me-2"></i>Comenzar Diagnóstico
            </a>
            <a href="{{ url_for('simulador.simulador') }}" class="btn btn-outline-success btn-lg">
                <i class="fas fa-calculator me-2"></i>Usar Simulador
            </a>
        </div>
    </div>


    
    <div class="col-lg-6 mt-4 mt-lg-0 p-0">
        <!-- Carrusel simple con Bootstrap 5 -->
        <div id="carouselEnergiasRenovables" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <!-- Indicadores del carrusel -->
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselEnergiasRenovables" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Generador Eólico"></button>
                <button type="button" data-bs-target="#carouselEnergiasRenovables" data-bs-slide-to="1" aria-label="Paneles Solares"></button>
                <button type="button" data-bs-target="#carouselEnergiasRenovables" data-bs-slide-to="2" aria-label="Instalación Paneles"></button>
                <button type="button" data-bs-target="#carouselEnergiasRenovables" data-bs-slide-to="3" aria-label="Energía Solar Térmica"></button>
            </div>
            
            <!-- Contenido del carrusel -->
            <div class="carousel-inner">
                <!-- Diapositiva 1: Generador Eólico con información -->
                <div class="carousel-item active">
                    <div class="position-relative">
                        <img src="{{ url_for('static', filename='images/carousel/generador-de-energia-de-turbina-de-viento-con-cielo-azul.jpg') }}" alt="Generador Eólico">
                        <div class="position-absolute bottom-0 end-0 bg-success bg-opacity-75 text-white p-3 m-3 rounded" style="max-width: 300px;">
                            <h5 class="fs-6 fw-bold mb-1">Datos de Energía Eólica</h5>
                            <p class="mb-0 small">Un aerogenerador de 2MW puede abastecer a más de 1,500 hogares por año.</p>
                            <p class="mb-0 small mt-2">Retorno energético de 20-25 veces la energía usada en fabricación.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Diapositiva 2: Paneles Solares Vista Aérea -->
                <div class="carousel-item">
                    <img src="{{ url_for('static', filename='images/carousel/vista aerea paneles solares.jpg') }}" alt="Paneles Solares Vista Aérea">
                </div>
                
                <!-- Diapositiva 3: Instalación de Paneles -->
                <div class="carousel-item">
                    <img src="{{ url_for('static', filename='images/carousel/vista hombre colocando panel solar.jpg') }}" alt="Instalación de Paneles Solares">
                </div>
                
                <!-- Diapositiva 4: Energía Solar Térmica -->
                <div class="carousel-item">
                    <img src="{{ url_for('static', filename='images/carousel/energia-solar-termica.jpg') }}" alt="Energía Solar Térmica">
                </div>
            </div>
            
            <!-- Controles del carrusel -->
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselEnergiasRenovables" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Anterior</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselEnergiasRenovables" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Siguiente</span>
            </button>
        </div>
    </div>


    
<section class="py-5 bg-white rounded-3 shadow-sm mb-5">
    <div class="container">
        <h2 class="text-center mb-4">Nuestras Herramientas</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="mb-3">
                            <i class="fas fa-search-location fa-3x text-success"></i>
                        </div>
                        <h3 class="h5">Diagnóstico Inteligente</h3>
                        <p class="text-muted">Analiza tu ubicación, consumo y preferencias para recomendarte el sistema de energía renovable ideal.</p>
                        <a href="{{ url_for('diagnostico.diagnostico') }}" class="btn btn-outline-success btn-sm">Iniciar Diagnóstico</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="mb-3">
                            <i class="fas fa-chart-line fa-3x text-primary"></i>
                        </div>
                        <h3 class="h5">Simulador Avanzado</h3>
                        <p class="text-muted">Simula diferentes escenarios y configuraciones para visualizar rendimiento y retorno de inversión.</p>
                        <a href="{{ url_for('simulador.simulador') }}" class="btn btn-outline-primary btn-sm">Probar Simulador</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="mb-3">
                            <i class="fas fa-robot fa-3x text-info"></i>
                        </div>
                        <h3 class="h5">Chatbot Educativo</h3>
                        <p class="text-muted">Resuelve tus dudas sobre energías renovables con nuestro asistente virtual basado en IA.</p>
                        <a href="{{ url_for('chatbot.chatbot') }}" class="btn btn-outline-info btn-sm">Hacer Preguntas</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="mb-5">
    <h2 class="text-center mb-4">¿Por qué elegir energías renovables?</h2>
    <div class="row g-4">
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-0 bg-success bg-opacity-10">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-wallet text-success fa-2x me-3"></i>
                        <h3 class="h5 mb-0">Ahorro económico</h3>
                    </div>
                    <p class="mb-0">Reduce tu factura energética hasta un 70% y obtén retorno de inversión en 4-8 años.</p>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-0 bg-primary bg-opacity-10">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-tree text-primary fa-2x me-3"></i>
                        <h3 class="h5 mb-0">Impacto ambiental</h3>
                    </div>
                    <p class="mb-0">Reduce tu huella de carbono equivalente a plantar cientos de árboles cada año.</p>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-0 bg-warning bg-opacity-10">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-plug text-warning fa-2x me-3"></i>
                        <h3 class="h5 mb-0">Independencia</h3>
                    </div>
                    <p class="mb-0">Genera tu propia energía y reduce tu dependencia de la red eléctrica y combustibles fósiles.</p>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 border-0 bg-info bg-opacity-10">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-home text-info fa-2x me-3"></i>
                        <h3 class="h5 mb-0">Valor inmobiliario</h3>
                    </div>
                    <p class="mb-0">Aumenta el valor de tu propiedad con instalaciones modernas de energía renovable.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="bg-light p-5 rounded-3 shadow-sm mb-5">
    <div class="text-center mb-4">
        <h2>¿Listo para comenzar?</h2>
        <p class="lead">Obtén tu diagnóstico personalizado en menos de 5 minutos</p>
    </div>
    <div class="d-flex justify-content-center">
        <a href="{{ url_for('diagnostico.diagnostico') }}" class="btn btn-success btn-lg px-5">
            <i class="fas fa-lightbulb me-2"></i>Comenzar Ahora
        </a>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Aseguramos que el carrusel funcione correctamente
    document.addEventListener('DOMContentLoaded', function() {
        // Inicializa el carrusel con opciones personalizadas
        var carouselElement = document.getElementById('carouselEnergiasRenovables');
        
        if (carouselElement) {
            var carousel = new bootstrap.Carousel(carouselElement, {
                interval: 4000,        // Cambia cada 4 segundos
                pause: 'hover',        // Pausa al pasar el cursor
                ride: 'carousel',      // Inicia automáticamente
                wrap: true,            // Vuelve al principio al final
                keyboard: true         // Permite navegación con teclado
            });
            
            // Log para debug
            console.log('Carrusel inicializado correctamente');
            
            // Eventos para verificar funcionamiento
            carouselElement.addEventListener('slide.bs.carousel', function(e) {
                console.log('Cambiando a diapositiva: ' + e.to);
            });
            
            // Verificar navegación manual
            document.querySelector('.carousel-control-next').addEventListener('click', function() {
                console.log('Botón siguiente clickeado');
            });
            
            document.querySelector('.carousel-control-prev').addEventListener('click', function() {
                console.log('Botón anterior clickeado');
            });
        } else {
            console.error('No se encontró el elemento del carrusel');
        }
    });
</script>
{% endblock %}